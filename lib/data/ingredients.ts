import { type Ingredient, type Macros } from "@/types/nutrition";

/**
 * Base de données d'ingrédients (valeurs pour 100g)
 * Sources : Table Ciqual (ANSES)
 */
export const INGREDIENTS_DATABASE: Ingredient[] = [
  // Protéines animales
  {
    id: "poulet",
    name: "Poulet (blanc)",
    calories: 165,
    protein: 31,
    carbs: 0,
    fat: 3.6,
    category: "Viandes",
  },
  {
    id: "dinde",
    name: "Dinde (blanc)",
    calories: 135,
    protein: 30,
    carbs: 0,
    fat: 1,
    category: "Viandes",
  },
  {
    id: "boeuf",
    name: "Bœuf (maigre)",
    calories: 158,
    protein: 26,
    carbs: 0,
    fat: 6,
    category: "Viandes",
  },
  {
    id: "saumon",
    name: "Saumon",
    calories: 208,
    protein: 20,
    carbs: 0,
    fat: 13,
    category: "Poissons",
  },
  {
    id: "thon",
    name: "Thon (au naturel)",
    calories: 132,
    protein: 28,
    carbs: 0,
    fat: 2,
    category: "Poissons",
  },
  {
    id: "oeufs",
    name: "Œufs",
    calories: 145,
    protein: 13,
    carbs: 1,
    fat: 10,
    category: "Œufs",
  },
  {
    id: "viande-grison",
    name: "Viande de grison",
    calories: 153,
    protein: 32,
    carbs: 1,
    fat: 2,
    category: "Viandes",
  },

  // Féculents
  {
    id: "riz-complet",
    name: "Riz complet (cuit)",
    calories: 112,
    protein: 2.6,
    carbs: 23,
    fat: 0.9,
    category: "Féculents",
  },
  {
    id: "riz-blanc",
    name: "Riz blanc (cuit)",
    calories: 130,
    protein: 2.7,
    carbs: 28,
    fat: 0.3,
    category: "Féculents",
  },
  {
    id: "pates-completes",
    name: "Pâtes complètes (cuites)",
    calories: 124,
    protein: 5,
    carbs: 23,
    fat: 1,
    category: "Féculents",
  },
  {
    id: "pates-blanches",
    name: "Pâtes blanches (cuites)",
    calories: 131,
    protein: 5,
    carbs: 25,
    fat: 1,
    category: "Féculents",
  },
  {
    id: "patate-douce",
    name: "Patate douce (cuite)",
    calories: 86,
    protein: 1.6,
    carbs: 20,
    fat: 0.1,
    category: "Féculents",
  },
  {
    id: "pomme-terre",
    name: "Pomme de terre (cuite)",
    calories: 77,
    protein: 2,
    carbs: 17,
    fat: 0.1,
    category: "Féculents",
  },
  {
    id: "quinoa",
    name: "Quinoa (cuit)",
    calories: 120,
    protein: 4,
    carbs: 21,
    fat: 2,
    category: "Féculents",
  },
  {
    id: "pain-complet",
    name: "Pain complet",
    calories: 247,
    protein: 8,
    carbs: 45,
    fat: 3,
    category: "Féculents",
  },
  {
    id: "flocons-avoine",
    name: "Flocons d'avoine",
    calories: 389,
    protein: 13,
    carbs: 66,
    fat: 7,
    category: "Féculents",
  },

  // Légumes
  {
    id: "brocoli",
    name: "Brocoli",
    calories: 34,
    protein: 2.8,
    carbs: 7,
    fat: 0.4,
    category: "Légumes",
  },
  {
    id: "epinards",
    name: "Épinards",
    calories: 23,
    protein: 2.9,
    carbs: 3.6,
    fat: 0.4,
    category: "Légumes",
  },
  {
    id: "haricots-verts",
    name: "Haricots verts",
    calories: 31,
    protein: 1.8,
    carbs: 7,
    fat: 0.1,
    category: "Légumes",
  },
  {
    id: "courgette",
    name: "Courgette",
    calories: 17,
    protein: 1.2,
    carbs: 3,
    fat: 0.3,
    category: "Légumes",
  },
  {
    id: "tomate",
    name: "Tomate",
    calories: 18,
    protein: 0.9,
    carbs: 3.9,
    fat: 0.2,
    category: "Légumes",
  },
  {
    id: "endives",
    name: "Endives",
    calories: 17,
    protein: 0.9,
    carbs: 4,
    fat: 0.1,
    category: "Légumes",
  },
  {
    id: "salade-verte",
    name: "Salade verte",
    calories: 15,
    protein: 1.4,
    carbs: 2.9,
    fat: 0.2,
    category: "Légumes",
  },
  {
    id: "concombre",
    name: "Concombre",
    calories: 15,
    protein: 0.7,
    carbs: 3.6,
    fat: 0.1,
    category: "Légumes",
  },
  {
    id: "poivron",
    name: "Poivron",
    calories: 26,
    protein: 0.9,
    carbs: 6,
    fat: 0.3,
    category: "Légumes",
  },
  {
    id: "carotte",
    name: "Carotte",
    calories: 41,
    protein: 0.9,
    carbs: 10,
    fat: 0.2,
    category: "Légumes",
  },

  // Fruits
  {
    id: "banane",
    name: "Banane",
    calories: 89,
    protein: 1.1,
    carbs: 23,
    fat: 0.3,
    category: "Fruits",
  },
  {
    id: "pomme",
    name: "Pomme",
    calories: 52,
    protein: 0.3,
    carbs: 14,
    fat: 0.2,
    category: "Fruits",
  },
  {
    id: "orange",
    name: "Orange",
    calories: 47,
    protein: 0.9,
    carbs: 12,
    fat: 0.1,
    category: "Fruits",
  },
  {
    id: "fraises",
    name: "Fraises",
    calories: 32,
    protein: 0.7,
    carbs: 8,
    fat: 0.3,
    category: "Fruits",
  },

  // Produits laitiers
  {
    id: "yaourt-nature",
    name: "Yaourt nature",
    calories: 61,
    protein: 3.5,
    carbs: 4.7,
    fat: 3.3,
    category: "Laitages",
  },
  {
    id: "fromage-blanc",
    name: "Fromage blanc 0%",
    calories: 47,
    protein: 8,
    carbs: 4,
    fat: 0.2,
    category: "Laitages",
  },
  {
    id: "skyr",
    name: "Skyr",
    calories: 63,
    protein: 11,
    carbs: 4,
    fat: 0.2,
    category: "Laitages",
  },

  // Matières grasses
  {
    id: "huile-olive",
    name: "Huile d'olive",
    calories: 884,
    protein: 0,
    carbs: 0,
    fat: 100,
    category: "Matières grasses",
  },
  {
    id: "beurre-cacahuete",
    name: "Beurre de cacahuète",
    calories: 588,
    protein: 25,
    carbs: 20,
    fat: 50,
    category: "Matières grasses",
  },
  {
    id: "amandes",
    name: "Amandes",
    calories: 579,
    protein: 21,
    carbs: 22,
    fat: 50,
    category: "Oléagineux",
  },
  {
    id: "noix",
    name: "Noix",
    calories: 654,
    protein: 15,
    carbs: 14,
    fat: 65,
    category: "Oléagineux",
  },

  // Légumineuses
  {
    id: "lentilles",
    name: "Lentilles (cuites)",
    calories: 116,
    protein: 9,
    carbs: 20,
    fat: 0.4,
    category: "Légumineuses",
  },
  {
    id: "pois-chiches",
    name: "Pois chiches (cuits)",
    calories: 164,
    protein: 8.9,
    carbs: 27,
    fat: 2.6,
    category: "Légumineuses",
  },
  {
    id: "haricots-rouges",
    name: "Haricots rouges (cuits)",
    calories: 127,
    protein: 8.7,
    carbs: 23,
    fat: 0.5,
    category: "Légumineuses",
  },

  // Autres
  {
    id: "pain-proteines",
    name: "Pain protéiné",
    calories: 270,
    protein: 14,
    carbs: 40,
    fat: 5,
    category: "Féculents",
  },
  {
    id: "proteine-whey",
    name: "Protéine Whey",
    calories: 380,
    protein: 80,
    carbs: 6,
    fat: 5,
    category: "Suppléments",
  },
  {
    id: "miel",
    name: "Miel",
    calories: 304,
    protein: 0.3,
    carbs: 82,
    fat: 0,
    category: "Sucres",
  },
  {
    id: "chocolat-noir",
    name: "Chocolat noir 70%",
    calories: 598,
    protein: 7.8,
    carbs: 45,
    fat: 43,
    category: "Sucres",
  },
];

/**
 * Helper pour calculer les macros d'un ingrédient selon quantité
 */
export function calculateMacros(
  ingredient: Ingredient,
  quantity: number
): Macros {
  const ratio = quantity / 100;
  return {
    calories: Math.round(ingredient.calories * ratio),
    protein: Math.round(ingredient.protein * ratio * 10) / 10,
    carbs: Math.round(ingredient.carbs * ratio * 10) / 10,
    fat: Math.round(ingredient.fat * ratio * 10) / 10,
  };
}
